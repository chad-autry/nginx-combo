# Ensure the frontend directories are created
- name: ensure www directory is present
  file:
    state: directory
    path: /var/www
    
- name: ensure nginx directory is present
  file:
    state: directory
    path: /var/nginx
    
- name: ensure ssl directory is present
  file:
    state: directory
    path: /var/ssl
    
# Import backend route configurator (creates config before nginx starts)
- include: backend-discovery-watcher.yml

# Import nginx task file
- include: nginx.yml

# Import letsencrypt tasks
- include: acme-response-watcher

# Import application push task
